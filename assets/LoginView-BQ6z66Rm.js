import{_ as E,u as P,c as R,a as e,w as l,b as d,d as F,e as _,t as c,f as W,g as h,h as k,i as b,r as o,j as f,k as g,l as $,o as x}from"./index-Ce0wwhdy.js";const G={class:"login-screen"},H={class:"text-body-2 text-medium-emphasis"},J={__name:"LoginView",setup(K){const N=$(),i=P(),r=g(!0),m=g(!1),t=g({firstName:"",lastName:"",email:"",password:""}),v=g(!1),u={required:n=>!!n||"Required",email:n=>/.+@.+\..+/.test(n)||"Invalid email",minLength:n=>n.length>=6||"Minimum 6 characters"},q=f(()=>r.value?"Welcome back":"Create account"),S=f(()=>r.value?"Sign in":"Sign up"),C=f(()=>r.value?"Don't have an account?":"Already have an account?"),L=f(()=>r.value?"Sign up":"Sign in");async function T(){if(!v.value)return;let n;r.value?n=await i.login(t.value.email,t.value.password):n=await i.register(t.value.firstName,t.value.lastName,t.value.email,t.value.password),n&&N.push("/")}function U(){r.value=!r.value,i.error=null}return(n,a)=>{const B=o("v-card-title"),p=o("v-text-field"),w=o("v-col"),y=o("v-row"),j=o("v-alert"),V=o("v-btn"),A=o("v-form"),I=o("v-card-text"),M=o("v-card-actions"),z=o("v-card"),D=o("v-container");return x(),R("div",G,[e(D,{class:"fill-height",fluid:""},{default:l(()=>[e(y,{justify:"center",align:"center"},{default:l(()=>[e(w,{cols:"12",sm:"8",md:"6",lg:"4"},{default:l(()=>[a[6]||(a[6]=d("div",{class:"text-center mb-8"},[d("img",{src:F,alt:"Traq",width:"240",height:"240",class:"mb-4"}),d("h1",{class:"text-h4 font-weight-bold text-white"},"Traq"),d("p",{class:"text-body-2 text-white-70"},"Track your time, own your day")],-1)),e(z,{class:"pa-4 login-card",elevation:"8"},{default:l(()=>[e(B,{class:"text-h5 text-center pb-0"},{default:l(()=>[_(c(q.value),1)]),_:1}),e(I,null,{default:l(()=>[e(A,{modelValue:v.value,"onUpdate:modelValue":a[5]||(a[5]=s=>v.value=s),onSubmit:W(T,["prevent"])},{default:l(()=>[r.value?k("",!0):(x(),h(y,{key:0},{default:l(()=>[e(w,{cols:"6"},{default:l(()=>[e(p,{modelValue:t.value.firstName,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value.firstName=s),label:"First name",rules:[u.required],"prepend-inner-icon":"mdi-account"},null,8,["modelValue","rules"])]),_:1}),e(w,{cols:"6"},{default:l(()=>[e(p,{modelValue:t.value.lastName,"onUpdate:modelValue":a[1]||(a[1]=s=>t.value.lastName=s),label:"Last name",rules:[u.required]},null,8,["modelValue","rules"])]),_:1})]),_:1})),e(p,{modelValue:t.value.email,"onUpdate:modelValue":a[2]||(a[2]=s=>t.value.email=s),label:"Email",type:"email",rules:[u.required,u.email],"prepend-inner-icon":"mdi-email"},null,8,["modelValue","rules"]),e(p,{modelValue:t.value.password,"onUpdate:modelValue":a[3]||(a[3]=s=>t.value.password=s),label:"Password",type:m.value?"text":"password",rules:[u.required,u.minLength],"prepend-inner-icon":"mdi-lock","append-inner-icon":m.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":a[4]||(a[4]=s=>m.value=!m.value)},null,8,["modelValue","type","rules","append-inner-icon"]),b(i).error?(x(),h(j,{key:1,type:"error",variant:"tonal",class:"mb-4",density:"compact"},{default:l(()=>[_(c(b(i).error),1)]),_:1})):k("",!0),e(V,{type:"submit",color:"primary",size:"large",block:"",loading:b(i).loading,disabled:!v.value},{default:l(()=>[_(c(S.value),1)]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue"])]),_:1}),e(M,{class:"justify-center"},{default:l(()=>[d("span",H,c(C.value),1),e(V,{variant:"text",color:"primary",size:"small",onClick:U},{default:l(()=>[_(c(L.value),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Q=E(J,[["__scopeId","data-v-47220889"]]);export{Q as default};
