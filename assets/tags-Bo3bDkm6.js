import{E as h,k as l,j as k,D as c}from"./index-BS4Cm7ex.js";const m=h("tasks",()=>{const a=l([]),u=l(!1),r=l(null),i=k(()=>a.value.filter(e=>e.active)),g=k(()=>a.value.filter(e=>!e.active));async function v(){try{u.value=!0;const e=await c.getTasks();a.value=e.tasks}catch(e){r.value=e.message}finally{u.value=!1}}async function f(e){try{const s=await c.createTask(e);return a.value.push(s.task),s.task}catch(s){throw r.value=s.message,s}}async function d(e,s){try{const o=await c.updateTask(e,s),y=a.value.findIndex(p=>p.id===e);return y!==-1&&(a.value[y]=o.task),o.task}catch(o){throw r.value=o.message,o}}async function T(e){try{await c.deleteTask(e),a.value=a.value.filter(s=>s.id!==e)}catch(s){throw r.value=s.message,s}}function n(e){return a.value.find(s=>s.id===e)}function t(e){return a.value.filter(s=>s.tags.includes(e))}return{tasks:a,loading:u,error:r,activeTasks:i,inactiveTasks:g,fetchTasks:v,createTask:f,updateTask:d,deleteTask:T,getTaskById:n,getTasksByTag:t}}),x=h("tags",()=>{const a=l([]),u=l(!1),r=l(null);async function i(){try{u.value=!0;const n=await c.getTags();a.value=n.tags}catch(n){r.value=n.message}finally{u.value=!1}}async function g(n){try{const t=await c.createTag(n);return a.value.push(t.tag),t.tag}catch(t){throw r.value=t.message,t}}async function v(n,t){try{const e=await c.updateTag(n,t),s=a.value.findIndex(o=>o.id===n);return s!==-1&&(a.value[s]=e.tag),e.tag}catch(e){throw r.value=e.message,e}}async function f(n){try{const t=await c.reorderTags(n);a.value=t.tags}catch(t){throw r.value=t.message,t}}async function d(n){try{await c.deleteTag(n),a.value=a.value.filter(t=>t.id!==n)}catch(t){throw r.value=t.message,t}}function T(n){return a.value.find(t=>t.id===n)}return{tags:a,loading:u,error:r,fetchTags:i,createTag:g,updateTag:v,reorderTags:f,deleteTag:d,getTagById:T}});export{m as a,x as u};
